{% extends "layout.html" %}
{% block title %}Uusi käyttäjä{% endblock %}
{% block content %}

{% if error %}
    {% if error == "username in use" %}
        <b>Käyttäjänimi on jo käytössä</b>
        <br>
    {% endif %}
{% endif %}

<form action="/signup" method="POST" onsubmit="return check(this)">
    Käyttäjätunnus:
    <input type="text" name="username">
    <br>
    Salasana:
    <input type="password" name="password">
    <br>
    Salasana uudelleen:
    <input type="password" name="password_again">
    <br>
    <input type="submit" value="Lähetä">
</form>
<br>

<a href="/">Takaisin etusivulle</a>

<script>
    function check(form) {
        if (!form.username.value.trim()) {
            alert("Käyttäjätunnus ei saa olla tyhjä");
            return false;
        }
        if (!form.password.value.trim()) {
            alert("Salasana ei saa olla tyhjä");
            return false;
        }
        if (form.password.value !== form.password_again.value) {
            alert("Salasanat eivät olleet samat");
            return false;
        }
    return true;
    }
</script>

{% endblock %}